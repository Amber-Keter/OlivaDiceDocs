# Mirai和XQ的框架食用指北

> *世界是属于每一个人的。要创造一个充满逻辑并尊重每一个人的世界。*    
> *——《Новый Элемент Расселения》A.D.1960 Москва*

![DIXE(OLIVADICE)](_static/DIXE_OLIVADICE.jpg)
#### 前言：
本篇仅介绍Mirai和XQ的框架登录和初步设置  
Mirai两种,XQ一种,共三种  
看完以后你可以学会的是：   
1. XQ的额外设置  
2. 怎么设置自动登录  
3. 怎么设置master  
4. 怎么放图片和声音等  
5. 怎么更新骰娘  
6. 各个框架使用的协议与注意事项  
7. 骰娘不回复消息的方法
8. 骰娘被屏蔽了的方法
9. 怎么放牌堆和mod，以及识别方法
10. 下一步去哪里看教程

## 1.**XQ的额外设置**
XQ框架由于杀毒软件会误报  
然后运行着就直接给你删了  
所以需要在杀毒软件那设置排除  
具体设置就是**整个框架的文件夹**都排除  
怎么设置的话...  
由于杀毒软件有各种各样的  
这里只介绍win10自带的Windows  
**迈克菲**，360等杀毒软件请自行解决  
 - 打开`设置`
 - 打开`更新和安全`
 - 点击左侧的`windows安全中心`   
 有可能会因为太窄变成只有`盾牌图标`  
 - 点击右侧的`打开windows安全中心`   
 - 然后右边会出现扫描历史记录或者安全概览等  
 - 点击左边的`病毒威胁和防护`菜单栏   
 - 点击右边下面的`“病毒和威胁防护”设置`选项   
 当然有可能是`管理设置`  
 - 点击下面的`排除项`下的`添加或删除排除项`  
 - 点击`添加排除项`  
 - 点击`文件夹`  
 - 将`整个骰娘整合包解压出来的文件夹`设置信任  
 - 完毕  

## 2.**怎么设置自动登录**  
#### Mirai篇:  
首先你应该有一个整合包  
然后解压出来看一下  
有config/console/autologin.yml的   
是新版或者M2版  
有config.txt的是原始版  
根据文件里面的内容查看你用的是哪一个版本  

**Mirai2**

* 在你的骰娘目录下  
如果用的是整合包  
你应该可以看见如下文件路径和文件  
`config\Console\AutoLogin.yml`  
如果不出意外,里面有

  ```yaml
  accounts: 
    - # 账号, 现只支持 QQ 数字账号
      account: 123456
      password: 
        # 密码种类, 可选 PLAIN 或 MD5
        kind: PLAIN
        # 密码内容, PLAIN 时为密码文本, MD5 时为 16 进制
        value: pwd
      # 账号配置. 可用配置列表 (注意大小写):
      # "protocol": "ANDROID_PHONE" / "ANDROID_PAD" / "ANDROID_WATCH"
      configuration: 
        protocol: ANDROID_PHONE
  ```

* Mirai2有两种不同的设置自动登录的方式   
你可以从里面任选一种进行尝试   
    * **第一种：直接改文件**   
修改`account: `后面的数字,那是骰娘的qq号   
修改`value: `后面的文字,那是骰娘的密码   
修改`protocol: `后面的`ANDROID_PHONE`为`ANDROID_PAD`   
那是设备协议   
然后保存，回到骰娘包的最顶层   
双击运行`start by jre.bat`启动骰娘   
一般来说会提示你扫码登录或者是滑动验证码登录
      * **注意：不要直接用记事本打开修改！会出错！**
      
  * **第二种：通过指令设置**   
首先运行`start by jre.bat`，你会发现出现了一个命令提示符的窗口   
输入以下三条命令   
    ```
    autologin clear
    autologin add 123456789 abcdefghi
    autologin setconfig 123456789 protocol ANDROID_PAD
    ```
    `123456789`是你的骰娘`qq号`   
    `abcdefghi`是你的骰娘`密码`   
    * NOTE：这里的第三条可以不输入，不过代价就是你无法同时使用手机登录
    * 以上三条指令的作用分别是：   
      * 清理模板示例
      * 设置自动登录账号
      * 设置登录协议
  
    * 当设置完成后，你需要等待**两分钟**让设置生效才能继续关闭窗口（m2无法立即保存你的自动登录设置）   
    所以趁着这个时间你可以输入   
    `login 123456789 abcdefghi`   
    来完成你的骰娘账号的第一次登录   
    * 一般来说会需要你扫描二维码或者是滑动滑块进行账号验证   
    当你完成了这些步骤以后一般来说两分钟也已经到了   
    * 当你下次登录的时候就只要直接打开   
    `start by jre.bat`就好了

* 三种协议分别是
  * `ANDROID_PHONE` 手机协议
  * `ANDROID_PAD` 平板协议
  * `ANDROID_WATCH` 手表协议
  这里比较推荐的就是pad协议或者watch协议

**Mirai新版**  

* 在你的骰娘目录下  
如果用的是整合包  
你应该可以看见如下文件路径和文件  
`config/console/autologin.yml`  
如果不出意外,里面有  

  ```yaml
  plainPasswords:  
      123456789:abcdefghi  
  md5Passwords:  
      xxxxxxxxxxxxxxxxxxxxxx  
  ```
* 123456789换成你的骰娘qq  
* abcdefghi换成你的骰娘密码   
  中间的冒号记得别删，这样就可以自动登录了  

**Mirai原始版**  

* 在你的骰娘目录下  
如果用的是整合包  
你应该可以看见如下文件路径和文件  
`config.txt`  
如果不出意外,里面有  

  ```bash
  DEBUG
  NOUPDATE
  #在----------下面可以添加需要在每次启动时输入得指令
  #请注意，指令部分中#并不起效，miraiOK会原样输入到console
  例如:
  login 123456789 TestMiraiOK
  say 655057127 MiraiOK_published!
  ----------
  ```  

  这样一段话  
  在下面一行输入  
  `login 123456789 abcdefgh`  
  再按一个回车,然后保存即可  

#### XQ篇:  
* XQ的自动登录只要你登录上了就可以了  

## 3.**怎么设置master**
#### Mirai篇:
* 当骰娘登录以后  
你右键猫猫头  
此时会跳出一个指令框  
最下面应该会有  

|Dice!
|----
|关于
* 选中`Dice！`  
往右可以看见`Master模式切换`  
点下去,如果你能看见`Master模式已开启`  
那么你就可以私聊你的骰娘发送.master来设置master了  
或者你也可以选择`综合管理`，这里就不多介绍了  
#### XQ篇:
  * XQ请选中`插件扩展`栏  
  然后`右键`CQXQ插件  
  点击`设置插件`  
  点击`Dice!`  
  点击右边的`菜单`  
  可以看见`Master模式切换`  
  点下去,如果你能看见`Master模式已开启`  
  那么你就可以私聊你的骰娘发送.master来设置master了  
  或者你也可以选择`综合管理`，这里就不多介绍了  

## 4.**怎么放图片和声音等**
#### Mirai:  
图片放在你的骰娘包里的`\jre\bin\data\image`下面  
声音放在你的骰娘包里的`\jre\bin\data\record`下面  
#### XQ:  
图片放在你的骰娘包里的`data\image`下面  
声音放在你的骰娘包里的`data\record`下面  

## 5.**怎么更新骰娘**
#### Mirai新版:
关闭框架/卸载骰娘插件  
然后替换`\data\MiraiNative\plugins`目录下的对应dll和json文件  
然后重启框架/重载骰娘插件并启用  
#### Mirai原始版:
关闭框架/卸载骰娘插件  
然后替换`plugins\MiraiNative\plugins`目录下的对应dll和json文件  
然后重启框架/重载骰娘插件并启用  
#### XQ:  
关闭框架/卸载骰娘插件  
然后替换`CQPlugins`目录下的对应dll和json文件  
然后重启框架/重载骰娘插件并启用  

## 6.**各个框架使用的协议与注意事项**
**Mirai框架**使用QQ HD协议  
即安卓平板版  
所以可以再开着骰娘的同时使用手机QQ登录或者使用电脑端登录  
**XQ框架**使用PC端协议  
所以只能在手机QQ上登录  
或者在手机QQ HD上登录  
即:两个都是手机  
注:别想了，那个TIM指的是PC端TIM（笑）

## 7. **骰娘不回复消息了怎么办?**  
#### 看看后台有没有回复?  
1. 如果后台日志有回复  
   * 你的骰娘被屏蔽了  
2. 如果后台日志没回复  
   * 重启试试  

## 8.**骰娘被屏蔽了怎么办?**  
首先要明确一点  
任何一个骰娘都有被屏蔽的几率  
只是多与少,我们能做的只有降低几率  

#### 以下是玄学方法  
1. 改个密码  
   * 纯粹玄学  
2. QQ会员  
   * 这个方法有一定帮助,但是不要迷信  

#### 以下是常用方法  
* 等级挂高一点,屏蔽几率就小一点  
  * 这个是最简单的方法,关闭所有插件挂个几天就好了  
  * XQ有加速,建议使用XQ进行挂机  
* 附体水群  
  * 结合上面的一起食用效果更佳  

## 9.怎么放牌堆和mod

#### 怎么识别你下载的是牌堆还是mod

用记事本打开你下载的json文件  
你会发现里面有一大堆的文字  
通常来说这些都是用utf-8编码写的所以不会乱码  
你只要观察开头的几行就好了  

* 牌堆的文件内容格式一般是
  ```json
  {
    "_祈愿内容1": [
        "a1",
        "a2",
        "a3",
        "a4"
    ],
    "_祈愿内容2": [
        "b1",
        "b2",
        "b3",
        "b4"
    ],
    "_祈愿抽取词条": [
        "::5::{_祈愿内容1}",
        "::20::{_祈愿内容2}"
    ],
    "祈愿1":["::5::随着你的祈愿,你抽取到了{_祈愿抽取词条}"]
  }
  ```
* mod文件的内容格式一般是
  ```json
  这个是mod文件的内容
  {
    "mod": "mod名称",
    "author": "mod作者",
    "brief": "简介",
    "comment": "具体介绍",
    "helpdoc": {
        "具体帮助词条1": "帮助词条内容",
        "具体帮助词条2": "帮助词条内容",
        "具体帮助词条3": "帮助词条内容"
    }
  }
  ```

#### 牌堆和mod的安装必要条件

当你成功登录你的骰娘账号以后  
你会发现在文件夹内出现了  
`Dice+你的骰娘qq号`的文件夹

#### 牌堆的安装方法

* 在里面新建一个名为`publicdeck`的文件夹   
  然后就可以在里面放你的牌堆了   
* 完整的牌堆文件路径就是`dice123456789\publicdeck\牌堆.json`   

#### mod的安装方法

* 在里面新建一个名为`mod`的文件夹
  然后就可以在里面放你的mod了
* 完整的mod文件路径就是`dice123456789\mod\牌堆.json`  

## 10.初出茅庐

现在你已经完成了当骰主的新手阶段   
试着去看骰主手册、进阶手册、喧闹手册吧！ 

> *By NULL&仑质*
